# GDExtensionVStudioTemplate
GDExtension template for Microsoft Visual Studio. (Windows Only)


## Getting Started
Before continuing it's recommended to have VS2022 installed as well as [Python 3.6+](https://www.python.org/downloads/windows/) and [SCons 3.0+](https://pypi.org/project/SCons/).

Check out the official documentation for [GDExtension](https://docs.godotengine.org/en/stable/tutorials/scripting/gdextension/index.html) and [Compiling for Windows](https://docs.godotengine.org/en/stable/contributing/development/compiling/compiling_for_windows.html) as well.

<ins>**Building the solution**</ins>

1. Clone the repository with `git clone --recursive https://github.com/JustinGdnz/GDExtensionVStudioTemplate`
2. Modify the [addonsettings.json](https://github.com/JustinGdnz/GDExtensionVStudioTemplate/blob/master/addonsettings.json) file for setting up the extension name. check out [More Info](#additional-information).
3. Run the [Win-Generate.bat](https://github.com/JustinGdnz/GDExtensionVStudioTemplate/blob/master/scripts/Win-Genenerate.bat) file found on the `scripts` folder.
4. Done.

**NOTE**: Cloning it's not recommended, instead make a new repository by clicking on the **`Use this template`** button.

***

## Additional Information
### **Template Customization**

**`addonsettings.json`**:
This file contains a short amount of data, such as the extension name. **Keep in mind that this files is important for everything generated by the template**.
- `workspace`: The name of your local workspace. Changing this doesn't required extra changes
- `addon_root`: The root directory where the extension folder exists.
- `addon_name`: The name of the extension.

Whenever you change the `addon_root`, `addon_name` or both requires you to do the next changes

1. **`/<addon_name>/`**: This folder contains the source of the extension and needs to exists in order to generate the solution files.
   - Default is `/GDExample/`.

2. **`/<addon_root>/<addon_name>/`**: This is the extension's main folder, where `*.gdextension` file exists and where the extension will be compiled to (`/bin`).
   - Default is `/addons/GDExample/`.
  
3. **`<addon_name>.gdextension`**: This is the extension file and contains all the data that Godot requires in order to load the extension.
   - Default is `GDExample.gdextension`.

Now just modify the contents of the extension file to match your extension's name. 
```ini
[configuration]

entry_symbol = "gdextension_init"
compatibility_minimum = 4.1

[libraries]

windows.debug.x86_32 = "bin/lib<addon_name>.windows.template_debug.x86_32.dll"
windows.release.x86_32 = "bin/lib<addon_name>.windows.template_release.x86_32.dll"
windows.debug.x86_64 = "bin/lib<addon_name>.windows.template_debug.x86_64.dll"
windows.release.x86_64 = "bin/lib<addon_name>.windows.template_release.x86_64.dll"
```

Everything else will be generated automatically.

### **Generating the Bindings**
The bindings are generated on the first compilation, compiling these manually required you to go to `GodotCpp/vendor/godot-cpp` and run `scons generate_bindings=yes build_library=no` on the terminal.

Or you could generate them directly by compiling only the `Dependencies/BindingsGen` project on VS.
